#!Time-stamp: <2016-12-28 23:09:45 hamada>

# pg_conv_floattofix : 浮動小数点⇒対数 型変換

------------------------------
## 書式

pg_conv_floattofix(x, z, *NFLO*,  *NMAN*, *NFIX*, *NST*,  *RM*);

------------------------------
## 引数

- x:  浮動小数点数
- z:  固定小数点数
- NFLO: 浮動小数点ワードビット幅
- NMAN: 仮数部(精度)ビット幅
- NFIX: 固定小数点ワードビット幅
- NST:  パイプラインステージ数
- RM: 丸めモード. 全9種類. 省略時は0(=切り捨て)

------------------------------
## 記述例

```
pg_conv_floattofix(x, z, 18,  8, 49);
pg_conv_floattofix(x, z, 26, 16, 57);
pg_conv_floattofix(x, z, 33, 23, 57);
```

------------------------------
## 概要

  浮動小数点数を固定小数点数に変換する.<br>
  固定小数点数は符号付絶対値表現を使っています.<br>
  これは, pg_fix_accumの入力が符号付絶対値固定小数点形式であるからです
  (つまり出力はpg_fix_accumにつながることを前提としています).
  2の補数固定小数点出力のサポートは, 新しい型変換の追加でサポートする予定です.<br>
  <s>今のところニーズはないので....</s>


------------------------------
## 性能(Xilinx Virtex-II PRO XC2VP70-5FF1517C)

<pre>
----------------------------------------------------------------------------------------
pg_conv_floattofix(x, z, 18,  8, 49, NST, 0);
NFLO=18
NMAN= 8
NST,    MHz , Slices,  FFs,  LUTs
1  , 199.641,     73,   49,   130

----------------------------------------------------------------------------------------
pg_conv_floattofix(x, z, 26, 16, 57, NST, 0);
NFLO=26
NMAN=16
NST,    MHz , Slices,  FFs,  LUTs
1  , 255.885,    373,   56,   487

(NMAN8より高速なのはシフタが組込みマルチプレクサへマップされるためです. 
このような合成結果はちょっと気持ち悪いですがNMAN8程度のシフタならLUTでも十分に速いので良しとしましょう.)
----------------------------------------------------------------------------------------
pg_conv_floattofix(x, z, 18, 8, 49, NST, 0);
NFLO=33
NMAN=23
NST,    MHz , Slices,  FFs,  LUTs
1  , 234.467,    429,   56,   611

(組込みマルチプレクサちょ速っだけど, スライス食いまくり. FF泣いてます.)
</pre>


------------------------------
## 参照

------------------------------
## Change Log
- 2004.10.14 : the first edition by T. Hamada

