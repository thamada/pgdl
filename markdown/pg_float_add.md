Time-stamp: <2017-01-03 21:04:33 hamada>

# pg_float_add : 浮動小数点型 符号付 加算


------------------------------
## 書式

pg_float_add(*x*, *y*, *z*,   *NFLO*, *NMAN*, *NST*, *RM*);

------------------------------
## 引数


- *x*: 入力
- *y*: 入力
- *z*: 加算結果
- *NFLO*: 浮動小数点ワードビット幅
- *NMAN*: 仮数部(精度)ビット幅
- *NST*: パイプラインステージ数
- *RM*: 丸めモード(省略可) 全9種類. 省略時はTOEVEN.

------------------------------
## 記述例

```
pg_float_add(x, y, z, 18,  8, 3, 0);
pg_float_add(x, y, z, 26, 16, 3);
pg_float_add(x, y, z, 33, 23, 3, 0);
```

------------------------------
## 概要

x,yとの加算結果をzに渡す.
内部は単にunsigned addとunsigned subを使っているだけ.
(パイプラインマップも上の2つと同じ)


------------------------------
## 性能(Xilinx Virtex-II PRO XC2VP70-5FF1517C)

```
----------------------------------------------------------------------------------------
pg_float_add(x, y, z, 18,  8, NST, 0);
NFLO=18
NMAN= 8
RM=0
NST,    MHz , Slices,  FFs,  LUTs
1  ,  55.033,    240,   18,   428
2  ,  91.876,    246,   98,   443
3  , 101.906,    245,  166,   435
4  , 137.741,    246,  238,   433
5  , 142.898,    263,  306,   464
6  , 187.477,    303,  373,   508
7  , 223.314,    316,  405,   520

(* : not efficient)
----------------------------------------------------------------------------------------
pg_float_add(x, y, z, 26, 16, NST);
NFLO=26
NMAN=16
RM=6
NST,    MHz , Slices,  FFs,  LUTs
1  ,  42.523,    505,   26,   905
2  ,  75.600,    511,  156,   939
3  ,  90.601,    516,  258,   943
4  , 132.979,    513,  366,   938
5  , 137.760,    522,  457,   955
6  , 151.676,    577,  552,  1025
7  , 180.799,    595,  625,  1048

(* : not efficient)
----------------------------------------------------------------------------------------
pg_float_add(x, y, z, 33, 23, NST, 0);
NFLO=33
NMAN=23
RM=0
NST,    MHz , Slices,  FFs,  LUTs
1  ,  43.001,   1060,   33,  1651
2  ,  69.512,   1102,  216,  1741
3  ,  83.382,   1071,  316,  1710
4  , 102.365,   1068,  498,  1696
5  , 137.043,   1137,  620,  1707
6  , 144.530,   1206,  692,  1790
7  , 154.607,   1256,  794,  1792

(* : not efficient)
(NMAN23用にパイプラインマップを別途用意しなければいかんですね. NST2で100MHzくらいの)
```


------------------------------
## 参照

------------------------------
## Change Log

- 2004.10.12 : the first edition by T. Hamada
